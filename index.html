<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="Selector aleatorio Musicala Style (sin rueda): lo que sale se marca como usado y no vuelve a salir." />
  <title>Musicala Â· Selector Aleatorio</title>

  <!-- Brand -->
  <link rel="preload" as="image" href="./logo.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar" role="banner">
    <div class="brand">
      <img class="brand-logo" src="./logo.png" alt="Musicala" />
      <div class="brand-txt">
        <strong>Musicala</strong>
        <span>Selector Aleatorio</span>
      </div>
    </div>

    <div class="top-actions">
      <span class="chip" id="statSound">ğŸ”Š Sonido: ON</span>
      <button id="btnSound" class="btn ghost" type="button" aria-pressed="true" title="Sonido">ğŸ”Š</button>
    </div>
  </header>

  <main class="wrap" id="main">
    <section class="card">
      <div class="top">
        <div class="title">
          <h1>Selector Aleatorio (sin rueda)</h1>
          <p>Lo que sale se marca como usada y no vuelve a salir (hasta que lo reactives). Porque la vida ya tiene suficientes repeticiones ğŸ˜Œ</p>
        </div>
        <div class="controls">
          <button id="btnSpin" class="btn primary">ğŸ² Elegir</button>
          <button id="btnReset" class="btn">â†º Predeterminadas</button>
          <button id="btnReactivate" class="btn ghost" type="button">â™»ï¸ Reactivar usadas</button>
        </div>
      </div>

      <div class="row">
        <label class="sr" for="presetSelect">Seleccionar preset</label>
        <select id="presetSelect" aria-label="Seleccionar preset">
          <option value="general">ğŸ¯ General (mixto)</option>
          <option value="piano_guitarra">ğŸ¹ğŸ¸ Piano / Guitarra</option>
          <option value="violin">ğŸ» ViolÃ­n</option>
          <option value="canto">ğŸ¤ Canto</option>
          <option value="bateria">ğŸ¥ BaterÃ­a</option>
        </select>
        <button id="btnLoadPreset" class="btn">â¬‡ï¸ Cargar preset</button>
        <button id="btnAddPreset" class="btn ghost">â• Agregar preset</button>
      </div>

      <div class="row">
        <input id="newName" type="text" placeholder="Agregar opciÃ³nâ€¦ (ej: Lectura rÃ­tmica)" />
        <button id="btnAdd" class="btn">ï¼‹ Agregar</button>
      </div>

      <div class="row stats">
        <span class="pill dot" id="statActive">Activas: 0</span>
        <span class="pill dot" id="statTotal">Total: 0</span>
        <span class="pill dot" id="statLast">Ãšltima: â€”</span>
      </div>

      <div id="list" class="list" aria-live="polite"></div>
      <p class="hint">
        â€œReactiva usadasâ€ vuelve a habilitar las que ya salieron, para reiniciar la ronda sin borrar tu lista.
      </p>
    </section>

    <aside class="card result">
      <div class="big" id="resultBox">
        <div class="label">Resultado</div>
        <div id="resultText" class="value">â€”</div>
      </div>

      <div class="big">
        <div class="label">Acciones rÃ¡pidas</div>
        <div class="footer">
          <button id="btnAgain" class="btn" disabled>ğŸ” Elegir otra</button>
          <button id="btnDisableWinner" class="btn danger" disabled>ğŸš« Desactivar (manual)</button>
          <button id="btnClearLast" class="btn" disabled>ğŸ§½ Permitir repetir la Ãºltima</button>
        </div>
      </div>

      <p class="hint">
        Nota: con â€œno repetir nuncaâ€, la anti-repeticiÃ³n por Ãºltima ya casi no importa, pero la dejÃ© por si reactivan.
      </p>

      <div class="mini-foot">
        <span class="tiny">UI: Musicala Style Â· Light only âœ¨</span>
      </div>
    </aside>
  </main>

  <div id="winOverlay" class="overlay" hidden>
    <div class="overlay-backdrop" data-close="1"></div>

    <div class="overlay-card" role="dialog" aria-modal="true" aria-labelledby="winTitle">
      <div class="overlay-top">
        <div>
          <div id="winTitle" class="overlay-title">SaliÃ³ esto</div>
          <div class="overlay-sub">QuedÃ³ marcada como usada y ya no vuelve a salir.</div>
        </div>
        <button id="btnCloseOverlay" class="btn ghost" type="button" aria-label="Cerrar">âœ•</button>
      </div>

      <div id="winCard" class="overlay-choice"></div>

      <div class="overlay-actions">
        <button id="btnOverlayAgain" class="btn primary" type="button">ğŸ² Elegir otra</button>
        <button id="btnOverlayOk" class="btn" type="button">âœ… Listo</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
